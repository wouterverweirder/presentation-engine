<template>
  <div style="width: 100%; height: 100%"></div>
<script type="text/template">
(function($slideHolder){

  function init() {
    var imageUrl = getParameterByName($slideHolder.attr('data-src'), 'image');

    var imageUrlSplitted = imageUrl.split('.');
    var size = 'contain';
    imageUrlSplitted.forEach(function(part) {
      if(part === 'cover') {
        size = 'cover';
      }
    });

    $slideHolder.find('div').css({
      backgroundRepeat: 'no-repeat',
      backgroundSize: size,
      backgroundPosition: 'center center',
      backgroundImage: 'url(' + imageUrl + ')'
    });

    //trigger load
    $slideHolder.trigger('load');
  }

  function getParameterByName(url, name) {
    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
    results = regex.exec(url);
    return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
  }

  init();

})(document.$slideHolder);
</script><img onLoad="var s = document.createElement('script'); s.innerHTML = this.previousSibling.innerHTML; document.$slideHolder = $(this).closest('.slide-frame'); this.parentNode.appendChild(s);" style="display: none;" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="/>
</template>
